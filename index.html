<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Form Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .language-selector {
            padding: 20px 30px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .language-selector label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
        }

        .language-selector select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            transition: border-color 0.3s;
        }

        .language-selector select:focus {
            outline: none;
            border-color: #4f46e5;
        }

        .controls {
            padding: 30px;
            text-align: center;
            background: #fafafa;
        }

        .voice-btn {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .voice-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: 500;
            text-align: center;
        }

        .status.listening {
            background: #dcfce7;
            color: #166534;
            border: 2px solid #bbf7d0;
        }

        .status.speaking {
            background: #dbeafe;
            color: #1e40af;
            border: 2px solid #bfdbfe;
        }

        .status.processing {
            background: #fef3c7;
            color: #92400e;
            border: 2px solid #fed7aa;
        }

        .form-container {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
            font-size: 1.1rem;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .form-group.filled input, .form-group.filled select, .form-group.filled textarea {
            background: #f0fdf4;
            border-color: #22c55e;
        }

        .current-field {
            background: #fef3c7 !important;
            border-color: #f59e0b !important;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .submit-btn {
            background: linear-gradient(45deg, #7c3aed, #a855f7);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            width: 0%;
            transition: width 0.5s ease;
        }

        .field-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e2e8f0;
            margin-left: 10px;
            transition: all 0.3s;
        }

        .field-indicator.current {
            background: #f59e0b;
            animation: blink 1s infinite;
        }

        .field-indicator.completed {
            background: #22c55e;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé§ Voice Form Assistant</h1>
            <p>Fill forms using your voice in your preferred language</p>
        </div>

        <div class="language-selector">
            <label for="languageSelect">Select Your Language / ‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç:</label>
            <select id="languageSelect">
                <option value="hi-IN">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
                <option value="en-IN">English (India)</option>
                <option value="bn-IN">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</option>
                <option value="te-IN">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
                <option value="mr-IN">‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)</option>
                <option value="ta-IN">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
                <option value="gu-IN">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)</option>
                <option value="kn-IN">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</option>
                <option value="ml-IN">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)</option>
                <option value="pa-IN">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</option>
            </select>
        </div>

        <div class="controls">
            <button id="startVoiceBtn" class="voice-btn">üé§ Start Voice Assistant</button>
            <button id="stopVoiceBtn" class="voice-btn" disabled>‚èπÔ∏è Stop Assistant</button>
            
            <div id="status" class="status" style="display: none;"></div>
            
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
        </div>

        <div class="form-container">
            <form id="voiceForm">
                <div class="form-group">
                    <label for="fullName">Full Name / ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ <span class="field-indicator" id="indicator-0"></span></label>
                    <input type="text" id="fullName" name="fullName" readonly>
                </div>

                <div class="form-group">
                    <label for="email">Email Address / ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡§æ <span class="field-indicator" id="indicator-1"></span></label>
                    <input type="email" id="email" name="email" readonly>
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number / ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ <span class="field-indicator" id="indicator-2"></span></label>
                    <input type="tel" id="phone" name="phone" readonly>
                </div>

                <div class="form-group">
                    <label for="age">Age / ‡§â‡§Æ‡•ç‡§∞ <span class="field-indicator" id="indicator-3"></span></label>
                    <input type="number" id="age" name="age" readonly>
                </div>

                <div class="form-group">
                    <label for="gender">Gender / ‡§≤‡§ø‡§Ç‡§ó <span class="field-indicator" id="indicator-4"></span></label>
                    <select id="gender" name="gender" disabled>
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç</option>
                        <option value="male">Male / ‡§™‡•Å‡§∞‡•Å‡§∑</option>
                        <option value="female">Female / ‡§Æ‡§π‡§ø‡§≤‡§æ</option>
                        <option value="other">Other / ‡§Ö‡§®‡•ç‡§Ø</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="city">City / ‡§∂‡§π‡§∞ <span class="field-indicator" id="indicator-5"></span></label>
                    <input type="text" id="city" name="city" readonly>
                </div>

                <div class="form-group">
                    <label for="occupation">Occupation / ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø <span class="field-indicator" id="indicator-6"></span></label>
                    <input type="text" id="occupation" name="occupation" readonly>
                </div>

                <div class="form-group">
                    <label for="comments">Additional Comments / ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä <span class="field-indicator" id="indicator-7"></span></label>
                    <textarea id="comments" name="comments" rows="3" readonly></textarea>
                </div>

                <button type="submit" class="submit-btn">Submit Form / ‡§´‡•â‡§∞‡•ç‡§Æ ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
            </form>
        </div>
    </div>

    <script>
        class VoiceFormAssistant {
            constructor() {
                this.currentFieldIndex = 0;
                this.isActive = false;
                this.recognition = null;
                this.synthesis = window.speechSynthesis;
                this.selectedLanguage = 'hi-IN';
                
                this.formFields = [
                    {
                        id: 'fullName',
                        label: 'Full Name',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please tell me your full name',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶≤‡ßÅ‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞™‡±á‡∞∞‡±Å ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ ‡§∏‡§æ‡§Ç‡§ó‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´Å‡™Ç ‡™™‡´Ç‡™∞‡´Å‡™Ç ‡™®‡™æ‡™Æ ‡™ï‡™π‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡¨ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡¨Æ ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤π‡≥Ü‡≤∏‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µÇ‡µº‡¥£‡µç‡¥£‡¥Æ‡¥æ‡¥Ø ‡¥™‡µá‡¥∞‡µç ‡¥™‡¥±‡¥Ø‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®™‡©Ç‡®∞‡®æ ‡®®‡®æ‡®Æ ‡®¶‡©±‡®∏‡©ã'
                        }
                    },
                    {
                        id: 'email',
                        label: 'Email Address',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡§æ ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please provide your email address',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶¶‡¶ø‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞á‡∞Æ‡±Ü‡∞Ø‡∞ø‡∞≤‡±ç ‡∞ö‡∞ø‡∞∞‡±Å‡∞®‡∞æ‡∞Æ‡∞æ ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡•ç‡§§‡§æ ‡§¶‡•ç‡§Ø‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æï‡Æµ‡Æ∞‡Æø‡ÆØ‡Øà ‡Æï‡ØÇ‡Æ±‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´Å‡™Ç ‡™á‡™Æ‡´á‡™á‡™≤ ‡™∏‡™∞‡™®‡™æ‡™Æ‡´Å‡™Ç ‡™Ü‡™™‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ ‡¥µ‡¥ø‡¥≤‡¥æ‡¥∏‡¥Ç ‡¥®‡µΩ‡¥ï‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®à‡®Æ‡©á‡®≤ ‡®™‡®§‡®æ ‡®¶‡®ø‡®ì'
                        }
                    },
                    {
                        id: 'phone',
                        label: 'Phone Number',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please tell me your phone number',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¨‡¶≤‡ßÅ‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§∏‡§æ‡§Ç‡§ó‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç‡Æ£‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´ã ‡™´‡´ã‡™® ‡™®‡™Ç‡™¨‡™∞ ‡™ï‡™π‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤´‡≥ã‡≤®‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥™‡¥±‡¥Ø‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®´‡©ã‡®® ‡®®‡©∞‡®¨‡®∞ ‡®¶‡©±‡®∏‡©ã'
                        }
                    },
                    {
                        id: 'age',
                        label: 'Age',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§â‡§Æ‡•ç‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please tell me your age',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶Ø‡¶º‡¶∏ ‡¶¨‡¶≤‡ßÅ‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞µ‡∞Ø‡∞∏‡±ç‡∞∏‡±Å ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡•á ‡§µ‡§Ø ‡§∏‡§æ‡§Ç‡§ó‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡ÆØ‡Æ§‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´Ä ‡™â‡™Ç‡™Æ‡™∞ ‡™ï‡™π‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤µ‡≤Ø‡≤∏‡≥ç‡≤∏‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡¥æ‡¥Ø‡¥Ç ‡¥™‡¥±‡¥Ø‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡©Ä ‡®â‡®Æ‡®∞ ‡®¶‡©±‡®∏‡©ã'
                        }
                    },
                    {
                        id: 'gender',
                        label: 'Gender',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§è‡§Ç - ‡§™‡•Å‡§∞‡•Å‡§∑, ‡§Æ‡§π‡§ø‡§≤‡§æ ‡§Ø‡§æ ‡§Ö‡§®‡•ç‡§Ø',
                            'en-IN': 'Please tell me your gender - male, female, or other',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ó ‡¶¨‡¶≤‡ßÅ‡¶® - ‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑, ‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞≤‡∞ø‡∞Ç‡∞ó‡∞Ç ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø - ‡∞™‡±Å‡∞∞‡±Å‡∞∑‡±Å‡∞°‡±Å, ‡∞∏‡±ç‡∞§‡±ç‡∞∞‡±Ä ‡∞≤‡±á‡∞¶‡∞æ ‡∞á‡∞§‡∞∞',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡•á ‡§≤‡§ø‡§Ç‡§ó ‡§∏‡§æ‡§Ç‡§ó‡§æ - ‡§™‡•Å‡§∞‡•Å‡§∑, ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§á‡§§‡§∞',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Ææ‡Æ≤‡Æø‡Æ©‡Æ§‡Øç‡Æ§‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç - ‡ÆÜ‡Æ£‡Øç, ‡Æ™‡ØÜ‡Æ£‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡Æµ‡Øà',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´Å‡™Ç ‡™≤‡™ø‡™Ç‡™ó ‡™ï‡™π‡´ã - ‡™™‡´Å‡™∞‡´Å‡™∑, ‡™∏‡´ç‡™§‡´ç‡™∞‡´Ä ‡™Ö‡™•‡™µ‡™æ ‡™Ö‡™®‡´ç‡™Ø',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≤‡≤ø‡≤Ç‡≤ó‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø - ‡≤™‡≥Å‡≤∞‡≥Å‡≤∑, ‡≤Æ‡≤π‡≤ø‡≤≥‡≥Ü ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤á‡≤§‡≤∞‡≥Ü',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥≤‡¥ø‡¥Ç‡¥ó‡¥Ç ‡¥™‡¥±‡¥Ø‡µÇ - ‡¥™‡µÅ‡¥∞‡µÅ‡¥∑‡µª, ‡¥∏‡µç‡¥§‡µç‡¥∞‡µÄ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥Æ‡¥±‡µç‡¥±‡µÅ‡¥≥‡µç‡¥≥‡¥µ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®≤‡®ø‡©∞‡®ó ‡®¶‡©±‡®∏‡©ã - ‡®Æ‡®∞‡®¶, ‡®î‡®∞‡®§ ‡®ú‡®æ‡®Ç ‡®π‡©ã‡®∞'
                        }
                    },
                    {
                        id: 'city',
                        label: 'City',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•á ‡§∂‡§π‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please tell me your city name',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡¶π‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶≤‡ßÅ‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞®‡∞ó‡∞∞ ‡∞™‡±á‡∞∞‡±Å ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§∂‡§π‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§µ ‡§∏‡§æ‡§Ç‡§ó‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ®‡Æï‡Æ∞‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡™æ ‡™∂‡™π‡´á‡™∞‡™®‡´Å‡™Ç ‡™®‡™æ‡™Æ ‡™ï‡™π‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤®‡≤ó‡≤∞‡≤¶ ‡≤π‡≥Ü‡≤∏‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥®‡¥ó‡¥∞‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥™‡µá‡¥∞‡µç ‡¥™‡¥±‡¥Ø‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡©á ‡®∏‡®º‡®π‡®ø‡®∞ ‡®¶‡®æ ‡®®‡®æ‡®Æ ‡®¶‡©±‡®∏‡©ã'
                        }
                    },
                    {
                        id: 'occupation',
                        label: 'Occupation',
                        prompt: {
                            'hi-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§¨‡§§‡§æ‡§è‡§Ç',
                            'en-IN': 'Please tell me your occupation',
                            'bn-IN': '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶∂‡¶æ ‡¶¨‡¶≤‡ßÅ‡¶®',
                            'te-IN': '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞µ‡±É‡∞§‡±ç‡∞§‡∞ø ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø',
                            'mr-IN': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§∏‡§æ‡§Ç‡§ó‡§æ',
                            'ta-IN': '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Øä‡Æ¥‡Æø‡Æ≤‡Øà ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
                            'gu-IN': '‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™§‡™Æ‡™æ‡™∞‡´ã ‡™µ‡´ç‡™Ø‡™µ‡™∏‡™æ‡™Ø ‡™ï‡™π‡´ã',
                            'kn-IN': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥á‡≤≥‡≤ø',
                            'ml-IN': '‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥§‡µä‡¥¥‡¥ø‡µΩ ‡¥™‡¥±‡¥Ø‡µÇ',
                            'pa-IN': '‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®Ü‡®™‡®£‡®æ ‡®ï‡®ø‡©±‡®§‡®æ ‡®¶‡©±‡®∏‡©ã'
                        }
                    },
                    {
                        id: 'comments',
                        label: 'Additional Comments',
                        prompt: {
                            'hi-IN': '‡§ï‡•ã‡§à ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä ‡§Ø‡§æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ú‡•ã ‡§Ü‡§™ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?',
                            'en-IN': 'Any additional comments or information you would like to share?',
                            'bn-IN': '‡¶Ü‡¶™‡¶®‡¶ø ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶® ‡¶è‡¶Æ‡¶® ‡¶ï‡ßã‡¶® ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø ‡¶¨‡¶æ ‡¶§‡¶•‡ßç‡¶Ø?',
                            'te-IN': '‡∞Æ‡±Ä‡∞∞‡±Å ‡∞™‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞®‡∞ø ‡∞Ö‡∞®‡±Å‡∞ï‡±Å‡∞®‡±á ‡∞è‡∞¶‡±à‡∞®‡∞æ ‡∞Ö‡∞¶‡∞®‡∞™‡±Å ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞Ç?',
                            'mr-IN': '‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡•Ç ‡§á‡§ö‡•ç‡§õ‡§ø‡§§‡§æ ‡§Ö‡§∂‡•Ä ‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä?',
                            'ta-IN': '‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æï‡Æø‡Æ∞ ‡Æµ‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æè‡Æ§‡Øá‡Æ©‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Øç ‡Æï‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ§‡Æï‡Æµ‡Æ≤‡Øç‡Æï‡Æ≥‡Øç?',
                            'gu-IN': '‡™ï‡´ã‡™à ‡™µ‡™ß‡™æ‡™∞‡™æ‡™®‡´Ä ‡™ü‡™ø‡™™‡´ç‡™™‡™£‡´Ä ‡™Ö‡™•‡™µ‡™æ ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä ‡™ú‡´á ‡™§‡™Æ‡´á ‡™∂‡´á‡™∞ ‡™ï‡™∞‡™µ‡™æ ‡™Æ‡™æ‡™Ç‡™ó‡´ã ‡™õ‡´ã?',
                            'kn-IN': '‡≤®‡≥Ä‡≤µ‡≥Å ‡≤π‡≤Ç‡≤ö‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤µ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤∞‡≤ø ‡≤ï‡≤æ‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø?',
                            'ml-IN': '‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥™‡¥ô‡µç‡¥ï‡¥ø‡¥ü‡¥æ‡µª ‡¥Ü‡¥ó‡µç‡¥∞‡¥π‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥é‡¥®‡µç‡¥§‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡¥≤‡µÅ‡¥Ç ‡¥Ö‡¥ß‡¥ø‡¥ï ‡¥ï‡¥Æ‡¥®‡µç‡¥±‡µÅ‡¥ï‡¥≥‡µã ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡¥≥‡µã?',
                            'pa-IN': '‡®ï‡©ã‡®à ‡®µ‡®æ‡®ß‡©Ç ‡®ü‡®ø‡©±‡®™‡®£‡©Ä‡®Ü‡®Ç ‡®ú‡®æ‡®Ç ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä ‡®ú‡©ã ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®∏‡®æ‡®Ç‡®ù‡©Ä ‡®ï‡®∞‡®®‡®æ ‡®ö‡®æ‡®π‡©Å‡©∞‡®¶‡©á ‡®π‡©ã?'
                        }
                    }
                ];

                this.initializeEventListeners();
                this.initializeSpeechRecognition();
            }

            initializeEventListeners() {
                document.getElementById('startVoiceBtn').addEventListener('click', () => this.startVoiceAssistant());
                document.getElementById('stopVoiceBtn').addEventListener('click', () => this.stopVoiceAssistant());
                document.getElementById('languageSelect').addEventListener('change', (e) => {
                    this.selectedLanguage = e.target.value;
                });
                document.getElementById('voiceForm').addEventListener('submit', (e) => this.handleFormSubmit(e));
            }

            initializeSpeechRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    this.recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    
                    this.recognition.onresult = (event) => this.handleSpeechResult(event);
                    this.recognition.onerror = (event) => this.handleSpeechError(event);
                    this.recognition.onend = () => this.handleSpeechEnd();
                } else {
                    alert('Speech recognition is not supported in your browser. Please use a modern browser like Chrome.');
                }
            }

            startVoiceAssistant() {
                this.isActive = true;
                this.currentFieldIndex = 0;
                document.getElementById('startVoiceBtn').disabled = true;
                document.getElementById('stopVoiceBtn').disabled = false;
                
                this.updateProgress();
                this.speakAndListen();
            }

            stopVoiceAssistant() {
                this.isActive = false;
                this.recognition?.stop();
                this.synthesis.cancel();
                
                document.getElementById('startVoiceBtn').disabled = false;
                document.getElementById('stopVoiceBtn').disabled = true;
                this.hideStatus();
                this.clearFieldHighlights();
            }

            speakAndListen() {
                if (!this.isActive || this.currentFieldIndex >= this.formFields.length) {
                    this.completeForm();
                    return;
                }

                const currentField = this.formFields[this.currentFieldIndex];
                const prompt = currentField.prompt[this.selectedLanguage];
                
                this.highlightCurrentField();
                this.showStatus('speaking', 'Speaking...');
                this.speak(prompt, () => {
                    this.showStatus('listening', 'Listening...');
                    this.startListening();
                });
            }

            startListening() {
                if (!this.recognition || !this.isActive) return;
                
                this.recognition.lang = this.selectedLanguage;
                try {
                    this.recognition.start();
                } catch (error) {
                    console.error('Speech recognition error:', error);
                    this.handleSpeechError({ error: 'network' });
                }
            }

            speak(text, callback) {
                if (!this.isActive) return;
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = this.selectedLanguage;
                utterance.rate = 0.9;
                utterance.pitch = 1;
                
                // Try to find a voice for the selected language
                const voices = this.synthesis.getVoices();
                const selectedVoice = voices.find(voice => voice.lang === this.selectedLanguage) || 
                                   voices.find(voice => voice.lang.startsWith(this.selectedLanguage.split('-')[0]));
                
                if (selectedVoice) {
                    utterance.voice = selectedVoice;
                }
                
                utterance.onend = callback;
                utterance.onerror = (event) => {
                    console.error('Speech synthesis error:', event);
                    if (callback) callback();
                };
                
                this.synthesis.speak(utterance);
            }

            handleSpeechResult(event) {
                if (!this.isActive) return;
                
                const result = event.results[0][0].transcript.trim();
                const currentField = this.formFields[this.currentFieldIndex];
                
                this.showStatus('processing', 'Processing...');
                
                // Process the result based on field type
                this.processFieldInput(currentField, result);
                
                // Move to next field
                setTimeout(() => {
                    this.currentFieldIndex++;
                    this.updateProgress();
                    this.speakAndListen();
                }, 1500);
            }

            processFieldInput(field, input) {
                const element = document.getElementById(field.id);
                let processedValue = input;
                
                switch (field.id) {
                    case 'email':
                        // Basic email processing
                        processedValue = this.processEmail(input);
                        break;
                    case 'phone':
                        // Extract numbers from speech
                        processedValue = this.processPhoneNumber(input);
                        break;
                    case 'age':
                        // Extract age numbers
                        processedValue = this.processAge(input);
                        break;
                    case 'gender':
                        // Process gender selection
                        processedValue = this.processGender(input);
                        if (element.tagName === 'SELECT') {
                            element.disabled = false;
                            element.value = processedValue;
                            element.disabled = true;
                        }
                        this.markFieldCompleted(this.currentFieldIndex);
                        return;
                    default:
                        processedValue = this.capitalizeFirst(input);
                        break;
                }
                
                if (element.tagName === 'TEXTAREA') {
                    element.value = processedValue;
                } else {
                    element.value = processedValue;
                }
                
                this.markFieldCompleted(this.currentFieldIndex);
            }

            processEmail(input) {
                // Convert common speech patterns to email format
                let email = input.toLowerCase()
                    .replace(/\s+at\s+/g, '@')
                    .replace(/\s+dot\s+/g, '.')
                    .replace(/\s+/g, '');
                
                // Add @ if missing and contains common email patterns
                if (!email.includes('@') && (email.includes('gmail') || email.includes('yahoo') || email.includes('hotmail'))) {
                    const parts = email.split(/gmail|yahoo|hotmail/);
                    if (parts.length === 2) {
                        const provider = email.match(/(gmail|yahoo|hotmail)/)[0];
                        email = parts[0] + '@' + provider + '.com';
                    }
                }
                
                return email;
            }

            processPhoneNumber(input) {
                // Extract numbers from speech, handling various formats
                const numbers = input.replace(/\D/g, '');
                
                // If it's a 10-digit number, format it nicely
                if (numbers.length === 10) {
                    return numbers.replace(/(\d{5})(\d{5})/, '$1-$2');
                } else if (numbers.length === 11 && numbers.startsWith('91')) {
                    return '+91-' + numbers.slice(2).replace(/(\d{5})(\d{5})/, '$1-$2');
                }
                
                return numbers;
            }

            processAge(input) {
                const numbers = input.match(/\d+/);
                return numbers ? numbers[0] : input;
            }

            processGender(input) {
                const lowerInput = input.toLowerCase();
                
                // Check for male keywords in various languages
                if (lowerInput.includes('male') || lowerInput.includes('‡§™‡•Å‡§∞‡•Å‡§∑') || 
                    lowerInput.includes('‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑') || lowerInput.includes('‡∞™‡±Å‡∞∞‡±Å‡∞∑‡±Å‡∞°‡±Å') ||
                    lowerInput.includes('‡§™‡•Å‡§∞‡•Å‡§∑') || lowerInput.includes('‡ÆÜ‡Æ£‡Øç') ||
                    lowerInput.includes('‡™™‡´Å‡™∞‡´Å‡™∑') || lowerInput.includes('‡≤™‡≥Å‡≤∞‡≥Å‡≤∑') ||
                    lowerInput.includes('‡¥™‡µÅ‡¥∞‡µÅ‡¥∑‡µª') || lowerInput.includes('‡®Æ‡®∞‡®¶')) {
                    return 'male';
                }
                
                // Check for female keywords
                if (lowerInput.includes('female') || lowerInput.includes('‡§Æ‡§π‡§ø‡§≤‡§æ') ||
                    lowerInput.includes('‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ') || lowerInput.includes('‡∞∏‡±ç‡∞§‡±ç‡∞∞‡±Ä') ||
                    lowerInput.includes('‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä') || lowerInput.includes('‡Æ™‡ØÜ‡Æ£‡Øç') ||
                    lowerInput.includes('‡™∏‡´ç‡™§‡´ç‡™∞‡´Ä') || lowerInput.includes('‡≤Æ‡≤π‡≤ø‡≤≥‡≥Ü') ||
                    lowerInput.includes('‡¥∏‡µç‡¥§‡µç‡¥∞‡µÄ') || lowerInput.includes('‡®î‡®∞‡®§')) {
                    return 'female';
                }
                
                return 'other';
            }

            capitalizeFirst(str) {
                return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
            }

            handleSpeechError(event) {
                console.error('Speech recognition error:', event.error);
                
                let errorMessage = 'Speech recognition error. ';
                switch (event.error) {
                    case 'network':
                        errorMessage += 'Please check your internet connection.';
                        break;
                    case 'not-allowed':
                        errorMessage += 'Please allow microphone access.';
                        break;
                    case 'no-speech':
                        errorMessage += 'No speech detected. Trying again...';
                        setTimeout(() => this.speakAndListen(), 1000);
                        return;
                    default:
                        errorMessage += 'Please try again.';
                }
                
                this.showStatus('processing', errorMessage);
                setTimeout(() => {
                    if (this.isActive) {
                        this.speakAndListen();
                    }
                }, 2000);
            }

            handleSpeechEnd() {
                // Speech recognition ended, but we handle continuation in handleSpeechResult
            }

            highlightCurrentField() {
                this.clearFieldHighlights();
                
                if (this.currentFieldIndex < this.formFields.length) {
                    const fieldId = this.formFields[this.currentFieldIndex].id;
                    const element = document.getElementById(fieldId);
                    
                    if (element) {
                        element.classList.add('current-field');
                        
                        // Enable the field temporarily
                        if (element.tagName === 'SELECT') {
                            element.disabled = false;
                        } else {
                            element.readOnly = false;
                        }
                    }
                    
                    // Update field indicator
                    const indicator = document.getElementById(`indicator-${this.currentFieldIndex}`);
                    if (indicator) {
                        indicator.classList.add('current');
                    }
                }
            }

            clearFieldHighlights() {
                this.formFields.forEach((field, index) => {
                    const element = document.getElementById(field.id);
                    if (element) {
                        element.classList.remove('current-field');
                        
                        // Disable field after input
                        if (element.tagName === 'SELECT') {
                            element.disabled = true;
                        } else {
                            element.readOnly = true;
                        }
                    }
                    
                    const indicator = document.getElementById(`indicator-${index}`);
                    if (indicator) {
                        indicator.classList.remove('current');
                    }
                });
            }

            markFieldCompleted(index) {
                const fieldId = this.formFields[index].id;
                const element = document.getElementById(fieldId);
                const indicator = document.getElementById(`indicator-${index}`);
                
                if (element) {
                    element.parentElement.classList.add('filled');
                    element.classList.remove('current-field');
                    
                    // Disable the field
                    if (element.tagName === 'SELECT') {
                        element.disabled = true;
                    } else {
                        element.readOnly = true;
                    }
                }
                
                if (indicator) {
                    indicator.classList.remove('current');
                    indicator.classList.add('completed');
                }
            }

            updateProgress() {
                const progressPercentage = (this.currentFieldIndex / this.formFields.length) * 100;
                document.getElementById('progressFill').style.width = `${progressPercentage}%`;
            }

            showStatus(type, message) {
                const statusElement = document.getElementById('status');
                statusElement.className = `status ${type}`;
                statusElement.textContent = message;
                statusElement.style.display = 'block';
            }

            hideStatus() {
                document.getElementById('status').style.display = 'none';
            }

            completeForm() {
                this.clearFieldHighlights();
                this.updateProgress();
                
                const completionMessage = {
                    'hi-IN': '‡§´‡•â‡§∞‡•ç‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§æ‡§Ç‡§ö ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§',
                    'en-IN': 'Form completed! Please review and submit.',
                    'bn-IN': '‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£! ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®‡•§',
                    'te-IN': '‡∞´‡∞æ‡∞∞‡∞Ç ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø! ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞∏‡∞Æ‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡∞Æ‡∞∞‡±ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø‡•§',
                    'mr-IN': '‡§´‡•â‡§∞‡•ç‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ù‡§æ‡§≤‡§æ! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡§≤‡•ã‡§ï‡§® ‡§ï‡§∞‡§æ ‡§Ü‡§£‡§ø ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§æ‡•§',
                    'ta-IN': '‡Æ™‡Æü‡Æø‡Æµ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ! ‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æö‡ÆÆ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç‡•§',
                    'gu-IN': '‡™´‡´ã‡™∞‡´ç‡™Æ ‡™™‡´Ç‡™∞‡´ç‡™£! ‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™∏‡™Æ‡´Ä‡™ï‡´ç‡™∑‡™æ ‡™ï‡™∞‡´ã ‡™Ö‡™®‡´á ‡™∏‡™¨‡™Æ‡™ø‡™ü ‡™ï‡™∞‡´ã‡•§',
                    'kn-IN': '‡≤´‡≤æ‡≤∞‡≥ç‡≤Æ‡≥ç ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü! ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø‡•§',
                    'ml-IN': '‡¥´‡µã‡¥Ç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø! ‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥Ö‡¥µ‡¥≤‡µã‡¥ï‡¥®‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡µç ‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡•§',
                    'pa-IN': '‡®´‡®æ‡®∞‡®Æ ‡®™‡©Ç‡®∞‡®æ ‡®π‡©ã‡®á‡®Ü! ‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®∏‡®Æ‡©Ä‡®ñ‡®ø‡®Ü ‡®ï‡®∞‡©ã ‡®Ö‡®§‡©á ‡®ú‡®Æ‡©ç‡®π‡®æ ‡®ï‡®∞‡©ã‡•§'
                };
                
                this.showStatus('processing', completionMessage[this.selectedLanguage] || completionMessage['en-IN']);
                this.speak(completionMessage[this.selectedLanguage] || completionMessage['en-IN'], () => {
                    this.stopVoiceAssistant();
                });
            }

            handleFormSubmit(event) {
                event.preventDefault();
                
                const formData = new FormData(event.target);
                const data = Object.fromEntries(formData.entries());
                
                // Show success message
                const successMessage = {
                    'hi-IN': '‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ! ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶‡•§',
                    'en-IN': 'Form submitted successfully! Thank you.',
                    'bn-IN': '‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§',
                    'te-IN': '‡∞´‡∞æ‡∞∞‡∞Ç ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞∏‡∞Æ‡∞∞‡±ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø! ‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å‡•§',
                    'mr-IN': '‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡§æ! ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶‡•§',
                    'ta-IN': '‡Æ™‡Æü‡Æø‡Æµ‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡Æö‡ÆÆ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ! ‡Æ®‡Æ©‡Øç‡Æ±‡Æø‡•§',
                    'gu-IN': '‡™´‡´ã‡™∞‡´ç‡™Æ ‡™∏‡™´‡™≥‡™§‡™æ‡™™‡´Ç‡™∞‡´ç‡™µ‡™ï ‡™∏‡™¨‡™Æ‡™ø‡™ü ‡™•‡™Ø‡´Å‡™Ç! ‡™Ü‡™≠‡™æ‡™∞.',
                    'kn-IN': '‡≤´‡≤æ‡≤∞‡≥ç‡≤Æ‡≥ç ‡≤Ø‡≤∂‡≤∏‡≥ç‡≤µ‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü! ‡≤ß‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤¶‡≤ó‡≤≥‡≥Å.',
                    'ml-IN': '‡¥´‡µã‡¥Ç ‡¥µ‡¥ø‡¥ú‡¥Ø‡¥ï‡¥∞‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ö‡µç‡¥ö‡µÅ! ‡¥®‡¥®‡µç‡¥¶‡¥ø.',
                    'pa-IN': '‡®´‡®æ‡®∞‡®Æ ‡®∏‡®´‡®≤‡®§‡®æ‡®™‡©Ç‡®∞‡®µ‡®ï ‡®ú‡®Æ‡©ç‡®π‡®æ ‡®π‡©ã‡®á‡®Ü! ‡®ß‡©∞‡®®‡®µ‡®æ‡®¶‡•§'
                };
                
                alert(successMessage[this.selectedLanguage] || successMessage['en-IN']);
                console.log('Form Data:', data);
                
                // Here you would typically send the data to your server
                // fetch('/api/submit-form', { method: 'POST', body: formData })
            }
        }

        // Initialize the voice form assistant when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new VoiceFormAssistant();
            
            // Load voices when they become available
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = () => {
                    // Voices loaded
                };
            }
        });
    </script>
</body>
</html>